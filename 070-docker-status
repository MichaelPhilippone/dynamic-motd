#!/bin/bash
# Docker/container status

if ! command -v docker &> /dev/null; then
    exit 0
fi

# Check if docker daemon is running
if ! docker info &> /dev/null; then
    printf "\033[1;31mâœ— Docker daemon not running\033[0m\n"
    exit 0
fi

running=$(docker ps -q 2>/dev/null | wc -l)
total=$(docker ps -a -q 2>/dev/null | wc -l)

if [[ $total -eq 0 ]]; then
    printf "\033[1mğŸ³ Docker:\033[0m No containers\n"
else
    if [[ $running -eq 0 ]]; then
        printf "\033[1mğŸ³ Docker:\033[0m \033[90m%d containers (all stopped)\033[0m\n" "$total"
    elif [[ $running -eq $total ]]; then
        printf "\033[1mğŸ³ Docker:\033[0m \033[32m%d containers (all running)\033[0m\n" "$running"
    else
        printf "\033[1mğŸ³ Docker:\033[0m \033[33m%d running / %d total\033[0m\n" "$running" "$total"
    fi
fi
